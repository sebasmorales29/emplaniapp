@model Emplaniapp.UI.Models.ForgotPasswordViewModel
@{
    ViewBag.Title = "Recuperar contraseña";
    Layout = "~/Views/Shared/_LoginLayout.cshtml";
}



<div class="sign-user_card bg-white">

    <!-- Header de la empresa -->
    <div>
        @*<img src="https://medismart.net/wp-content/uploads/2023/06/suplidora-royal.jpg" alt="Logo">*@
        <img src="~/Content/Images/Emplaniapp_Logo1.png" alt="logo">
    </div>

    <br /><br />
    <h3 class="mb-4">Solicitar una contraseña nueva</h3>
    

    <!-- Form -->
    <div class="form-input">
        @using (Html.BeginForm("ForgotPassword", "Account", FormMethod.Post, new { role = "form", id = "forgotForm" }))
        {
            @Html.AntiForgeryToken()

            if (!ViewData.ModelState.IsValid)
            {
                <div class="validation-summary">
                    <strong>Por favor corrige los siguientes errores:</strong>
                    @Html.ValidationSummary(true, "", new { @class = "advertencia" })
                </div>
            }

            <div class="row mb-3">
                <div class="col-lg-12">
                    <div class="form-group">
                        @Html.LabelFor(m => m.Email, "Correo electrónico", new {@for = "UserName", @class = "form-label text-secondary" })
                        @Html.TextBoxFor(m => m.Email, new
                       {
                           @class = "floating-input form-control",
                           @type = "email",
                           @style = "text-align: center;",
                           @placeholder = "correo@ejemplo.com",
                           @autocomplete = "email"
                       })
                        @Html.ValidationMessageFor(m => m.Email, "", new { @class = "advertencia" })
                    </div>
                </div>
            </div>

            <button type="submit" class="btn btn-primary" id="forgotBtn">
                Enviar enlace
            </button>
        }   
    </div>

            <div class="mt-4 justify-content-center" style="text-size-adjust:auto;">
                <a href="@Url.Action("Login","Account")">Volver a iniciar sesión</a>
            </div>
        </div>


@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
    <script>$(function () {
            // Efecto de loading en el botón
            $('#forgotForm').on('submit', function () {
                var btn = $('#forgotBtn');
                btn.addClass('btn-loading').prop('disabled', true);
                setTimeout(function () {
                    if ($('.field-validation-error:visible').length > 0 || $('.validation-summary:visible').length > 0) {
                        btn.removeClass('btn-loading').prop('disabled', false);
                    }
                }, 100);
            });

            // Efectos de focus
            $('.form-input').on('focus', function () {
                $(this).closest('.input-group').find('.input-label').css('color', '#4a87c7');
            }).on('blur', function () {
                $(this).closest('.input-group').find('.input-label').css('color', '#374151');
            });

            // Animación de entrada
            setTimeout(function () {
                $('.login-card').css({ 'animation': 'slideInUp .6s ease-out', 'opacity': '1' });
            }, 100);

           
        });</script>
}