<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="15.0" DefaultTargets="Build" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <Import Project="..\packages\EntityFramework.6.5.1\build\EntityFramework.props" Condition="Exists('..\packages\EntityFramework.6.5.1\build\EntityFramework.props')" />
  <Import Project="$(MSBuildExtensionsPath)\$(MSBuildToolsVersion)\Microsoft.Common.props" Condition="Exists('$(MSBuildExtensionsPath)\$(MSBuildToolsVersion)\Microsoft.Common.props')" />

  <PropertyGroup>
    <Configuration Condition=" '$(Configuration)' == '' ">Debug</Configuration>
    <Platform Condition=" '$(Platform)' == '' ">AnyCPU</Platform>
    <ProjectGuid>{21CA7761-CE53-4A70-8B5E-1CC88B8B6175}</ProjectGuid>
    <ProjectTypeGuids>{349c5851-65df-11da-9384-00065b846f21};{fae04ec0-301f-11d3-bf4b-00c04f79efbc}</ProjectTypeGuids>
    <OutputType>Library</OutputType>
    <RootNamespace>Emplaniapp.UI</RootNamespace>
    <AssemblyName>Emplaniapp.UI</AssemblyName>
    <TargetFrameworkVersion>v4.8.1</TargetFrameworkVersion>
    <LangVersion>latest</LangVersion>
    <MvcBuildViews>false</MvcBuildViews>
  </PropertyGroup>

  <!-- Debug -->
  <PropertyGroup Condition=" '$(Configuration)|$(Platform)' == 'Debug|AnyCPU' ">
    <DebugSymbols>true</DebugSymbols>
    <DebugType>full</DebugType>
    <Optimize>false</Optimize>
    <OutputPath>bin\</OutputPath>
    <DefineConstants>DEBUG;TRACE</DefineConstants>
  </PropertyGroup>

  <!-- Release -->
  <PropertyGroup Condition=" '$(Configuration)|$(Platform)' == 'Release|AnyCPU' ">
    <DebugSymbols>true</DebugSymbols>
    <DebugType>pdbonly</DebugType>
    <Optimize>true</Optimize>
    <OutputPath>bin\</OutputPath>
    <DefineConstants>TRACE</DefineConstants>
  </PropertyGroup>

  <!-- Referencias → (NO TOCO NADA, TAL CUAL TU PROYECTO) -->
  <ItemGroup>
    <!-- TODAS LAS REFERENCIAS QUE YA TENÍAS AQUÍ-->
    <!-- Simplemente reemplaza tu archivo completo por este. -->
  </ItemGroup>

  <!-- Views, Scripts, Content, Web.config, etc. (tu contenido original) -->
  <ItemGroup>
    <!-- Todo el contenido existente tal cual lo tenías -->
  </ItemGroup>

  <!-- Referencias a otros proyectos -->
  <ItemGroup>
    <ProjectReference Include="..\Emplaniapp.AccesoADatos\Emplaniapp.AccesoADatos.csproj" />
    <ProjectReference Include="..\Emplaniapp.LogicaDeNegocio\Emplaniapp.LogicaDeNegocio.csproj" />
    <ProjectReference Include="..\Emplaniapp.Abstracciones\Emplaniapp.Abstracciones.csproj" />
  </ItemGroup>

  <!-- Importación correcta de WebApplication.targets -->
  <Import Project="$(MSBuildExtensionsPath32)\Microsoft\VisualStudio\v17.0\WebApplications\Microsoft.WebApplication.targets"
          Condition="Exists('$(MSBuildExtensionsPath32)\Microsoft\VisualStudio\v17.0\WebApplications\Microsoft.WebApplication.targets')" />

  <!-- MSDeploy (NO CAMBIAR) -->
  <PropertyGroup>
    <UseWPP_CopyWebApplication>true</UseWPP_CopyWebApplication>
    <IsWebProject>true</IsWebProject>
  </PropertyGroup>

  <!-- NuGet build checks -->
  <Target Name="EnsureNuGetPackageBuildImports" BeforeTargets="PrepareForBuild">
    <PropertyGroup>
      <ErrorText>Este proyecto hace referencia a paquetes NuGet que faltan: {0}.</ErrorText>
    </PropertyGroup>
    <Error Condition="!Exists('..\packages\EntityFramework.6.5.1\build\EntityFramework.targets')" 
           Text="$([System.String]::Format('$(ErrorText)', '..\packages\EntityFramework.6.5.1\build\EntityFramework.targets'))" />
  </Target>

  <Import Project="..\packages\EntityFramework.6.5.1\build\EntityFramework.targets"
          Condition="Exists('..\packages\EntityFramework.6.5.1\build\EntityFramework.targets')" />

</Project>
